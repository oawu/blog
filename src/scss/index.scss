//
// @author      OA Wu <comdan66@gmail.com>
// @copyright   Copyright (c) 2015 - 2021, Lalilo
// @license     http://opensource.org/licenses/MIT  MIT License
// @link        https://www.ioa.tw/
//

@import "_libs";

* {
  &, &:after, &:before {
    vertical-align: top;
    @include box-sizing(border-box);
    @include font-smoothing(subpixel-antialiased);
  }
}

:root {
  @each $name, $values in $ui-color {
    --ui-color-#{$name}: #{map-get($values, light)};
  }
}

@include dark {
  :root {
    @each $name, $values in $ui-color {
      --ui-color-#{$name}: #{map-get($values, dark)};
    }
  }
};

body {
  position: relative;

  display: inline-block;
  width: 100%;

  margin: 0;
  padding: 0;
  color: rgba(90, 90, 90, 1.00);

  font-size: medium;
  text-align: center;
  font-family: "微軟正黑體", "Open sans", "Helvetica Neue", HelveticaNeue, Helvetica, Arial, sans-serif;
  
  background-color: var(--ui-color-systemBackground);
}

#app {
  display: inline-block;
  width: 100%;

  // border: 1px solid rgba(255, 0, 0, .3);
  
  // &:before {
  //   position: fixed;
  //   left: 50%;
  //   width: 1px;
  //   height: 100%;
  //   border-left: 1px solid blue;
  //   content: '';
  // }
  &:after {
    position: fixed;
    top: 0;
    display: inline-block;
    height: 100%;
    // content: '';
    background-color: rgba(0, 255, 0, 0.2);
  }
}
#menu {
  position: fixed;
  top: 0;
  
  display: inline-block;
  height: 100%;

  background-color: var(--ui-color-secondarySystemBackground);
  display: inline-flex;
  flex-direction: column;
  align-items: flex-end;
  justify-content: flex-start;
  overflow: hidden;
  // border-right: 1px solid var(--ui-color-separator);
  &:before {
    content: '';
    position: absolute;
    right: -1px;
    top: 0;
    display: inline-block;
    width: 1px;
    height: 100%;
    @include box-shadow(0 0 2px var(--ui-color-tertiaryLabel));
    
  }
  
  div {
    display: inline-block;
    width: 100%;
    background-color: var(--ui-color-systemBackground);
    @include box-shadow(0 0 2px var(--ui-color-quaternaryLabel));

    // border: 1px solid var(--ui-color-quaternaryLabel);
    border-right: 0;
    margin-top: 20px;
    
    @include border-left-radius(10px);

    // + div {
    // }

    label {
      position: relative;
      display: inline-block;
      width: 100%;
      
      text-align: left;
      color: var(--ui-color-label);

      padding-left: 18px;
      letter-spacing: 1px;
      padding-right: 12px;

      text-decoration: none;

      font-size: large;
      
      &:after {
        position: absolute;
        top: 0;
        left: 16px;
        right: 0;
        display: inline-block;
        height: 1px;
        border-top: 1px solid var(--ui-color-quaternaryLabel);
      }

      + label:after {
        content: '';
      }
      &.item {
        height: 44px;
        line-height: 44px;
      }
      &.subtitle {
        padding-top: 10px;
        padding-bottom: 5px;
        span {
          display: inline-block;
          width: 100%;
          
          + span {
            font-size: small;
            color: var(--ui-color-secondaryLabel);
          }
        }

      }
    }
  }
}
$mainWidth1: 1024px;
$menuWidth1: 250px;
$width1: $mainWidth1 + $menuWidth1;

$mainWidth2: 960px;
$menuWidth2: 250px;
$width2: $mainWidth2 + $menuWidth2;

$mainWidth3: 900px;
$menuWidth3: 200px;
$width3: $mainWidth3 + $menuWidth3;

@include range-width(0, $width3 + 1px) {
  #app {
    padding-right: 0;
    padding-left: $menuWidth3;
    &:after {
      left: calc(50% - #{($width3 / 2)});
      width: $width3;
    }
  }
  #menu {
    left: 0;
    width: $menuWidth3;
  }
}

@include range-width($width3, $width2 + 30px * 2 + 1px) {
  #app {
    padding-left: calc(50% - #{$width3 / 2} + #{$menuWidth3});
    padding-right: calc(50% - #{$width3 / 2});

    &:after {
      left: calc(50% - #{($width3 / 2)});
      width: $width3;
    }
  }
  #menu {
    left: 0;
    right: calc(50% + #{$width3 / 2 - $menuWidth3});
    padding-left: calc(50% - #{($width3 / 2)})
  }
}

@include range-width($width2 + 30px * 2, $width1 + 40px * 2 + 1px) {
  #app {
    padding-left: calc(50% - #{$width2 / 2} + #{$menuWidth2});
    padding-right: calc(50% - #{$width2 / 2});

    &:after {
      left: calc(50% - #{($width2 / 2)});
      width: $width2;
    }
  }
  #menu {
    left: 0;
    right: calc(50% + #{$width2 / 2 - $menuWidth2});
    padding-left: calc(50% - #{($width2 / 2)})
  }
}

@include range-width($width1 + 40px * 2) {
  #app {
    padding-left: calc(50% - #{$width1 / 2} + #{$menuWidth1});
    padding-right: calc(50% - #{$width1 / 2});

    &:after {
      left: calc(50% - #{($width1 / 2)});
      width: $width1;
    }
  }
  #menu {
    left: 0;
    right: calc(50% + #{$width1 / 2 - $menuWidth1});
    padding-left: calc(50% - #{($width1 / 2)})
  }
}

// $mainWidth: 1024px;
// $menuWidth: 250px;
// $width: $mainWidth + $menuWidth;

// @include range-width(0, $width + 20px * 2 + 1px) {
//   $mainWidth: 960px;
//   $menuWidth: 220px;
//   $width: $mainWidth + $menuWidth;

//   #app {
//     &:after {
//       left: calc(50% - #{($width / 2)});
//       width: $width;
//     }
//   }
//   @include range-width(0, $width + 1px) {
//     #app {
//       padding-right: 0;
//       padding-left: $menuWidth;
//     }
//     #menu {
//       left: 0;
//       width: $menuWidth;
//     }
//   }

//   @include range-width($width) {
//     #app {
//       padding-left: calc(50% - #{$width / 2} + #{$menuWidth});
//       padding-right: calc(50% - #{$width / 2});
//     }
//     #menu {
//       left: 0;
//       right: calc(50% + #{$width / 2 - $menuWidth});
//       padding-left: calc(50% - #{($width / 2)})
//     }
//   }
// }
// @include range-width($width + 20px * 2) {

//   #app {
//     &:after {
//       left: calc(50% - #{($width / 2)});
//       width: $width;
//     }
//   }
//   @include range-width(0, $width + 1px) {
//     #app {
//       padding-right: 0;
//       padding-left: $menuWidth;
//     }
//     #menu {
//       left: 0;
//       width: $menuWidth;
//     }
//   }

//   @include range-width($width) {
//     #app {
//       padding-left: calc(50% - #{$width / 2} + #{$menuWidth});
//       padding-right: calc(50% - #{$width / 2});
//     }
//     #menu {
//       left: 0;
//       right: calc(50% + #{$width / 2 - $menuWidth});
//       padding-left: calc(50% - #{($width / 2)})
//     }
//   }
// }
