{"k":"iOS-create-CocoaPods","t":"自己做自己的 CocoaPods","i":"2019-08-12","a":[{"e":"p","t":"寫到一定程度之後，總會有幾個自己愛用語熟悉的 Lib，那就自己做一下屬於自己的 pod 套件吧！"},{"e":"h2","t":"新增"},{"e":"p","s":[{"e":"span","t":"以下會用 "},{"e":"code","t":"OAPodTest"},{"e":"span","t":" 當作套件名稱範例，各位要做自己的套件請用自己的名稱捏！\n由於 pod 套件可與 "},{"e":"a","attr":{"href":"https://github.com/","target":"_blank"},"t":"GitHub"},{"e":"span","t":" 綁定，讓他自動去抓上面的原始碼，所以請先開一個 GitHub repository！"}]},{"e":"p","s":[{"e":"span","t":"這是我自己的 GitHun Repository："},{"e":"a","attr":{"href":"https://github.com/comdan66/OAPodTest","target":"_blank"},"t":"https://github.com/comdan66/OAPodTest"}]},{"e":"ul","s":[{"e":"li","t":"先把 GitHub 上的專案 Clone 下來"},{"e":"li","s":[{"e":"span","t":"進入專案，然後執行指令 "},{"e":"code","t":"pod lib create OAPodTest"},{"e":"span","t":"，Pod 會自動去 "},{"e":"code","t":"https://github.com/CocoaPods/pod-template.git"},{"e":"span","t":" 複製一份 "},{"e":"code","t":".podspec"},{"e":"span","t":" 樣式下來"}]}]},{"e":"h3","t":"依據步驟回答即可"},{"e":"ul","s":[{"e":"li","s":[{"e":"span","t":"What platform do you want to use?? [ iOS / macOS ]"},{"e":"br","s":[]},{"e":"span","t":"\n此 lib 是給哪種系統平台用？"},{"e":"br","s":[]},{"e":"span","t":"\n➜ iOS"}]},{"e":"li","s":[{"e":"span","t":"What language do you want to use?? [ Swift / ObjC ]"},{"e":"br","s":[]},{"e":"span","t":"\n此 lib 是主要哪種語言？"},{"e":"br","s":[]},{"e":"span","t":"\n➜ Swift"}]},{"e":"li","s":[{"e":"span","t":"Would you like to include a demo application with your library? [ Yes / No ]"},{"e":"br","s":[]},{"e":"span","t":"\n此 lib 裡面要不要給予 Demo 範例"},{"e":"br","s":[]},{"e":"span","t":"\n➜ Yes"}]},{"e":"li","s":[{"e":"span","t":"Which testing frameworks will you use? [ Quick / None ]"},{"e":"br","s":[]},{"e":"span","t":"\n測試框架，不知道用在哪ＸＤ"},{"e":"br","s":[]},{"e":"span","t":"\n➜ None"}]},{"e":"li","s":[{"e":"span","t":"Would you like to do view based testing? [ Yes / No ]"},{"e":"br","s":[]},{"e":"span","t":"\n不知道ＸＤ"},{"e":"br","s":[]},{"e":"span","t":"\n➜ No"}]}]},{"e":"h3","t":"編輯與設定"},{"e":"ul","s":[{"e":"li","s":[{"e":"span","t":"編輯 "},{"e":"code","t":"OAPodTest.podspec"}]},{"e":"li","s":[{"e":"span","t":"通常需要以下幾個項目："},{"e":"ul","s":[{"e":"li","t":"s.name                  名稱"},{"e":"li","t":"s.version               版本"},{"e":"li","t":"s.summary               簡述"},{"e":"li","t":"s.description           描述"},{"e":"li","t":"s.homepage              GitHub 網址"},{"e":"li","t":"s.license               授權"},{"e":"li","t":"s.author                擁有者"},{"e":"li","t":"s.source                原始碼"},{"e":"li","t":"s.social_media_url     介紹的網頁"},{"e":"li","t":"s.ios.deployment_target 版本限制"},{"e":"li","t":"s.source_files          原始碼位置"},{"e":"li","t":"s.frameworks            使用哪些框架"}]}]}]},{"e":"blockquote","s":[{"e":"p","t":"通常要該改的有 name、version、summary、description、social_media_url、ios.deployment_target、frameworks"}]},{"e":"h2","t":"撰寫範例"},{"e":"ul","s":[{"e":"li","s":[{"e":"p","s":[{"e":"span","t":"打開 "},{"e":"code","t":"Example/OAPodTest.xcworkspace"}]},{"e":"ul","s":[{"e":"li","s":[{"e":"span","t":"目錄 "},{"e":"code","t":"Example for OAPodTest"},{"e":"span","t":" 是提供範例的地方"}]},{"e":"li","s":[{"e":"span","t":"目錄 "},{"e":"code","t":"Pods/Development Pods/OAPodTest/"},{"e":"span","t":" 下為 lib 的地方，"},{"e":"code","t":"ReplaceMe.swift"},{"e":"span","t":" 就是要你把 lib 放在這邊的意思，您可以自己更換名稱或新增其他檔案"}]}]}]},{"e":"li","s":[{"e":"p","t":"ReplaceMe.swift 內容範例"}]}]},{"e":"pre","s":[{"e":"code","attr":{"class":"language-Swift"},"t":"public func testFunc(_ a: Int) -&gt; String {\n    return String.init(format: \"Int: %d\", a)\n}"}]},{"e":"ul","s":[{"e":"li","s":[{"e":"span","t":"編輯 "},{"e":"code","t":"Example for OAPodTest/ViewController.swift"},{"e":"span","t":" 在上面加入 "},{"e":"code","t":"import OAPodTest"},{"e":"span","t":" 即可使用 "},{"e":"code","t":"testFunc"}]}]},{"e":"h2","t":"部署"},{"e":"ul","s":[{"e":"li","s":[{"e":"span","t":"首次部署記得檢查此 Git 有無設定 github 的 origin，沒有的話可以執行指令 "},{"e":"code","t":"git remote add origin https://github.com/comdan66/OAPodTest.git"},{"e":"span","t":" 設定"}]},{"e":"li","s":[{"e":"span","t":"設定版號，修改 "},{"e":"code","t":"OAPodTest.podspec"},{"e":"span","t":" 內的 "},{"e":"code","t":"version"},{"e":"span","t":"，改為 "},{"e":"code","t":"0.0.1"},{"e":"span","t":"(此版本號碼您可自己設定)"}]},{"e":"li","s":[{"e":"span","t":"先做 git push 以及 tag 的 push"},{"e":"ul","s":[{"e":"li","s":[{"e":"span","t":"全部加入並且丟到 origin，執行指令："},{"e":"code","t":"git add -A &amp;&amp; git ci -m 'Fix .podspec' &amp;&amp; git ps master"}]},{"e":"li","s":[{"e":"span","t":"新增一個 Tag 名稱為 "},{"e":"code","t":"0.0.1"},{"e":"span","t":"，並且將 tag 也丟到 origin，執行指令："},{"e":"code","t":"git tag 0.0.1 &amp;&amp; git push --tags"}]}]}]},{"e":"li","s":[{"e":"span","t":"更新至 pod"},{"e":"ul","s":[{"e":"li","s":[{"e":"span","t":"檢查 Github 頁面有無 "},{"e":"code","t":"0.0.1"},{"e":"span","t":" 的 tag"}]},{"e":"li","s":[{"e":"span","t":"丟上去，這邊會有點久，執行指令："},{"e":"code","t":"pod trunk push OAPodTest.podspec"}]},{"e":"li","s":[{"e":"span","t":"如果有警告的情況，要忽略警告可以加上 "},{"e":"code","t":"--allow-warnings"},{"e":"span","t":" 參數，指令："},{"e":"code","t":"pod trunk push OAPodTest.podspec --allow-warnings"},{"e":"span","t":"，通常你如果 "},{"e":"code","t":".podspec"},{"e":"span","t":" 內容沒修改敘述之類的，他會警告你"}]},{"e":"li","s":[{"e":"span","t":"成功的話 理論上 "},{"e":"code","t":"https://cocoapods.org/pods/OAPodTest"},{"e":"span","t":" 可以直接有網頁看得到，或者可以用指令 "},{"e":"code","t":"pod trunk info OAPodTest"},{"e":"span","t":" 檢查是否有存在以及其線上相關版號資訊"}]}]}]}]},{"e":"p","s":[{"e":"img","attr":{"src":"https://www.ioa.tw/img/3593d8b07ff9e731583a8387fc8a29cc.png","alt":"成功資訊"},"s":[]}]},{"e":"h2","t":"取用"},{"e":"ul","s":[{"e":"li","s":[{"e":"span","t":"測試有無存在，執行指令："},{"e":"code","t":"pod trunk info OAPodTest"}]},{"e":"li","s":[{"e":"span","t":"開新的 ios Swift 專案名稱為 "},{"e":"code","t":"Test"},{"e":"span","t":"，並且做 "},{"e":"a","attr":{"href":"https://www.ioa.tw/Develop/iOS-CocoaPods-note.html","target":"_blank"},"t":"pod init"}]},{"e":"li","s":[{"e":"span","t":"編輯 "},{"e":"code","t":"Podfile"},{"e":"span","t":"，加入 "},{"e":"code","t":"pod 'OAPodTest'"},{"e":"span","t":" 然後儲存"}]},{"e":"li","s":[{"e":"span","t":"執行安裝 pod 執行指令："},{"e":"code","t":"pod install"},{"e":"span","t":"，然後執行 "},{"e":"code","t":"Test.xcworkspace"},{"e":"ul","s":[{"e":"li","s":[{"e":"span","t":"可以檢查目錄 "},{"e":"code","t":"Pods/Pods/"},{"e":"span","t":" 內應該可以看到 "},{"e":"code","t":"OAPodTest"},{"e":"span","t":" 目錄"}]},{"e":"li","s":[{"e":"span","t":"可以在 "},{"e":"code","t":"Test7/Test7/ViewController.swift"},{"e":"span","t":" 內寫個測試，檔案開頭加入 "},{"e":"code","t":"import OAPodTest"},{"e":"span","t":" 就可使用 "},{"e":"code","t":"testFunc"}]}]}]}]},{"e":"h2","t":"刪除"},{"e":"ul","s":[{"e":"li","s":[{"e":"span","t":"執行指令："},{"e":"code","t":"pod trunk delete OAPodTest 0.0.1"},{"e":"span","t":"，然後輸入 "},{"e":"code","t":"yes"},{"e":"span","t":" 即可"}]},{"e":"li","s":[{"e":"span","t":"刪除完後，可在用 "},{"e":"code","t":"pod trunk info OAPodTest"},{"e":"span","t":" 檢查資訊"}]}]}],"r":[{"e":"ul","s":[{"e":"li","s":[{"e":"a","attr":{"href":"https://cocoapods.org/","target":"_blank"},"t":"CocoaPods.org"}]},{"e":"li","s":[{"e":"a","attr":{"href":"https://medium.com/practical-code-labs/how-to-create-private-cocoapods-in-swift-3cc199976a18","target":"_blank"},"t":"https://medium.com/practical-code-labs/how-to-create-private-cocoapods-in-swift-3cc199976a18"}]},{"e":"li","s":[{"e":"a","attr":{"href":"https://www.jianshu.com/p/4b63dfbd8be7","target":"_blank"},"t":"https://www.jianshu.com/p/4b63dfbd8be7"}]}]}],"g":["iOS","Xcode","CocoaPods","App","GitHub"]}